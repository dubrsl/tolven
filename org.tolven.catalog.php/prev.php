<html>    <head>        <title>Tolven V2.1 All versions of plugin</title>        <link href="../css/tolven.css" rel="stylesheet" type="text/css" />        <link href="../css/screen.css" rel="stylesheet" type="text/css" />    </head>    <body style="text-align: left">        <div id="header">            <!-- Begin branding -->            <div id="branding" style="width:auto;margin:0.5em">                <a href="http://tolven.org/index.html">                    <img src="../images/logo_tolvenorg.gif" alt="Tolven.org home page"                        class="home-logo" />                </a>                <!-- Begin nav -->                <div id="nav">                    <ul id="navUtility">                        <li>                            <a href="http://www.tolvenhealth.com">Visit TolvenHealth.com</a>                        </li>                    </ul>                    <!-- End nav -->                </div>                <h2 style="text-align:center">Tolven V2.1 Software</h2>                <!-- End branding -->            </div>            <div class="stretcher"></div>            <!-- End header -->        </div>        <!-- Begin content -->        <div id="content" style="padding: 1em 1em 1em 1em">

    <h3><a href="index.php">Catalog</a> &gt; All versions  of <?      echo $_GET['shortName']; ?>	</h3>	<br/>	<br/><table>  <thead>    <tr>      <th>Version</th>      <th>Files</th>      <th style="text-align: right">Size</th>      <th>Date Published (* new)</th>   </tr>  </thead><?      $path = "./plugins";    $dir_handle = @opendir($path) or die("Unable to open $path");    // Collect plugin file names     $plugins = array();    $versions = array();    while ($file = readdir($dir_handle)) {        if(pathinfo($file,PATHINFO_EXTENSION)!='zip') continue;        $fileName = "plugins/" . $file;		$shortNameLen = strrpos($file, "-");		$shortName = substr($file,0,$shortNameLen);        if ($shortName!=$_GET['shortName']) continue;		$version = substr($file,                $shortNameLen+1,strrpos($file,".")-strlen($file));        $versionKey = "";        $vs = explode(".", $version);        foreach ($vs as $v) {           $versionKey += str_pad($v, 10, "0", STR_PAD_LEFT);        }        $fileTime = filemtime($fileName);        $plugins[$versionKey] =                     array($versionKey, $version, $fileTime, $fileName);    }     closedir($dir_handle);     rsort($plugins);    foreach ($plugins as $plugin) {      echo "<tr>";        echo "<td><a href=\"http://wiki.tolven.org/doc/index.php/Plugin:$plugin[0]#Version_$plugin[1]\">$plugin[1]</a></td>";        echo "<td>";          echo "<a href=\"$plugin[3]\">zip</a> ";          echo "<a href=\"manifest.php?zip=$plugin[3]\">manifest</a> ";          echo "<a href=\"md5.php?zip=$plugin[3]\">md5</a> ";          echo "<a href=\"javadoc/";          echo $_GET['shortName'];          echo "-$plugin[1]/\">javadoc</a>";        echo "</td>";        echo "<td style=\"text-align:right\">";          echo "" . ceil(filesize($plugin[3])/1024) . "k";              echo "</td>";          echo "<td>";            echo "" . date ("Y-m-d H:i", $plugin[2]);            // Flag less than two weeks old           if ((time() - $plugin[2]) < 3600*24*15) {               echo " *";            }        echo "</td>";      echo "</tr>\n";    } ?></table></body></html>