<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">
<head>
    <title>Diagnoses</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <ui:composition>
		<table style="background: #99CCFF;height: 20px;">
			<tr>
				<td style="width: 575px;padding-left: 5px;border: none!important;">
					<b>Diagnoses</b> 
				</td>
				<td style="width: 20px;border: none!important;">
					<img class="closetab" onclick="closeOrderAssociatePopUps('#{menu.element}','#{menu.elementLabel}','orderAssociationPopUpDiv','diagnosesDropDownTemplate','diagnosesDropDownDiv#{param['widgetIndex']}','#{param['index']}','diagnoses','#{param['widgetIndex']}');return false;" src="../images/x_black.gif"/>
				</td>
			</tr>
		</table>		
		<div id="addNewDiagnoses" style="margin: 10px;">
			<table width="100%">
				<tr>
					<td style="width: 35%;border: none!important;"><b>Diagnoses : </b></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
		    			<c:set var="diagnoses" value="#{trim.trim.act.relationship['diagnoses']}"/>
						<c:forEach var="diagnose" items="#{diagnoses.act.relationshipsList['diagnose']}" varStatus="widgetIndex">
							<c:if test="#{widgetIndex.index+1==param['index']}">
								#{diagnose.act.observation.values[0].CE.displayName}
							</c:if>
						</c:forEach>
					</td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"><b>Date of diagnosis : *</b></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
						<c:forEach var="diagnose" items="#{diagnoses.act.relationshipsList['diagnose']}" varStatus="widgetIndex">
							<c:if test="#{widgetIndex.index+1==param['index']}">
								<trim:TSNew id="effectiveTime" value="#{diagnose.act.effectiveTime.TS}" dateStyle="short" />
							</c:if>
						</c:forEach>
					</td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"><b>Episodicity : </b></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
						<h:selectOneMenu id="episodicity">
           					<f:selectItems value="#{trim.valueSets['episodicity']}" />
           				</h:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"><b>Severity : </b></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
						<h:selectOneMenu id="severity">
           					<f:selectItems value="#{trim.valueSets['severity']}" />
           				</h:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"><b>Course : </b></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
						<h:selectOneMenu id="course">
           					<f:selectItems value="#{trim.valueSets['course']}" />
           				</h:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"><b>Onset : </b></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
						<h:selectOneMenu  id="onset">
           					<f:selectItems value="#{trim.valueSets['onset']}" />
           				</h:selectOneMenu>
					</td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;"><span id="errorSpan" style="color: red;"/></td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;"></td>
				</tr>
				<tr>
					<td style="width: 35%;border: none!important;"></td>
					<td style="width: 1%;border: none!important;"></td>
					<td style="width: 64%;border: none!important;">
						<input type="button" id="saveButtonPhy" value="save" onclick="javascript:saveOrderAssociateDiagnosesDetails('#{menu.element}','#{param['index']}','diagnosesDropDownDiv#{param['widgetIndex']}','diagnosesDropDownTemplate','#{param['widgetIndex']}');"/>
						&#160;&#160;<input type="button" value="close" onclick="closeOrderAssociatePopUps('#{menu.element}','#{menu.elementLabel}','orderAssociationPopUpDiv','diagnosesDropDownTemplate','diagnosesDropDownDiv#{param['widgetIndex']}','#{param['index']}','diagnoses','#{param['widgetIndex']}');return false;"/>
					</td>
				</tr>
			</table>
		</div>
	</ui:composition>
</body>
</html>
