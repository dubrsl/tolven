<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE jboss PUBLIC "-//JBoss//DTD JBOSS 6.0//EN" "http://www.jboss.org/j2ee/dtd/jboss_6_0.dtd">
<jboss>
	<enterprise-beans>
		<session>
			<ejb-name>AdminAppQueueBean</ejb-name>
			<resource-ref>
				<res-ref-name>jms/JmsXA</res-ref-name>
				<jndi-name>java:/JmsXA</jndi-name>
			</resource-ref>
			<message-destination-ref>
				<message-destination-ref-name>queue/adminApp</message-destination-ref-name>
				<jndi-name>/queue/adminApp</jndi-name>
			</message-destination-ref>
		</session>
		<session>
			<ejb-name>GeneratorQueueBean</ejb-name>
			<resource-ref>
				<res-ref-name>jms/JmsXA</res-ref-name>
				<jndi-name>java:/JmsXA</jndi-name>
			</resource-ref>
			<message-destination-ref>
				<message-destination-ref-name>queue/generator</message-destination-ref-name>
				<jndi-name>/queue/generator</jndi-name>
			</message-destination-ref>
		</session>
		<session>
			<ejb-name>InvitationQueueBean</ejb-name>
			<resource-ref>
				<res-ref-name>jms/JmsXA</res-ref-name>
				<jndi-name>java:/JmsXA</jndi-name>
			</resource-ref>
			<message-destination-ref>
				<message-destination-ref-name>queue/invitation</message-destination-ref-name>
				<jndi-name>/queue/invitation</jndi-name>
			</message-destination-ref>
		</session>
		<session>
			<ejb-name>RuleQueueBean</ejb-name>
			<resource-ref>
				<res-ref-name>jms/JmsXA</res-ref-name>
				<jndi-name>java:/JmsXA</jndi-name>
			</resource-ref>
			<message-destination-ref>
				<message-destination-ref-name>queue/rule</message-destination-ref-name>
				<jndi-name>/queue/rule</jndi-name>
			</message-destination-ref>
		</session>
		<message-driven>
			<ejb-name>AdminAppMDB</ejb-name>
			<activation-config>
				<activation-config-property>
					<activation-config-property-name>destination</activation-config-property-name>
					<activation-config-property-value>/queue/adminApp</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<activation-config-property-name>destinationType</activation-config-property-name>
					<activation-config-property-value>javax.jms.Queue</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<!-- Keep thread-count small so we don't clobber user performance -->
					<activation-config-property-name>maxSession</activation-config-property-name>
					<activation-config-property-value>1</activation-config-property-value>
				</activation-config-property>
			</activation-config>
			<destination-jndi-name>/queue/adminApp</destination-jndi-name>
		</message-driven>
		<message-driven>
			<ejb-name>Evaluator</ejb-name>
			<activation-config>
				<activation-config-property>
					<activation-config-property-name>destination</activation-config-property-name>
					<activation-config-property-value>java:/queue/rule</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<activation-config-property-name>destinationType</activation-config-property-name>
					<activation-config-property-value>javax.jms.Queue</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<!-- Keep thread-count small so we don't clobber user performance -->
					<activation-config-property-name>maxSession</activation-config-property-name>
					<activation-config-property-value>2</activation-config-property-value>
				</activation-config-property>
			</activation-config>
			<destination-jndi-name>java:/queue/rule</destination-jndi-name>
		</message-driven>
		<message-driven>
			<ejb-name>GenDriver</ejb-name>
			<activation-config>
				<activation-config-property>
					<activation-config-property-name>destination</activation-config-property-name>
					<activation-config-property-value>java:/queue/generator</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<activation-config-property-name>destinationType</activation-config-property-name>
					<activation-config-property-value>javax.jms.Queue</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<!-- We limit this queue so we don't clobber user performance -->
					<activation-config-property-name>maxSession</activation-config-property-name>
					<activation-config-property-value>1</activation-config-property-value>
				</activation-config-property>
			</activation-config>
			<destination-jndi-name>java:/queue/generator</destination-jndi-name>
		</message-driven>
		<message-driven>
			<ejb-name>InvitationSender</ejb-name>
			<activation-config>
				<activation-config-property>
					<activation-config-property-name>destination</activation-config-property-name>
					<activation-config-property-value>java:/queue/invitation</activation-config-property-value>
				</activation-config-property>
				<activation-config-property>
					<activation-config-property-name>destinationType</activation-config-property-name>
					<activation-config-property-value>javax.jms.Queue</activation-config-property-value>
				</activation-config-property>
			</activation-config>
			<destination-jndi-name>java:/queue/invitation</destination-jndi-name>
		</message-driven>
	</enterprise-beans>
	<assembly-descriptor>
		<message-destination>
			<message-destination-name>RuleQueue</message-destination-name>
			<jndi-name>java:/queue/rule</jndi-name>
		</message-destination>
		<message-destination>
			<message-destination-name>AdminAppQueue</message-destination-name>
			<jndi-name>/queue/adminApp</jndi-name>
		</message-destination>
		<message-destination>
			<message-destination-name>GeneratorQueue</message-destination-name>
			<jndi-name>java:/queue/generator</jndi-name>
		</message-destination>
		<message-destination>
			<message-destination-name>InvitationQueue</message-destination-name>
			<jndi-name>java:/queue/invitation</jndi-name>
		</message-destination>
	</assembly-descriptor>
</jboss>