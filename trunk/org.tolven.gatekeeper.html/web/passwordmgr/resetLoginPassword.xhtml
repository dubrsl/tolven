<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jstl/core">
<head>
    <title>Reset Login Password</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <ui:composition>
		<h:graphicImage value="/images/tolven-login-backimage.png" rendered="true" />
		<div style="clear:both"/>
		<hr/>
		
		<h:form id="resetpasswdNavigateHomeForm">
			<h:panelGrid columns="3">
		    	<h:commandLink id="navigateHome" action="home">
					<h:outputText value="Home Page" />
		    	</h:commandLink>
				<h:outputText value="|" />
		    	<h:commandLink id="manageLoginPassword" action="manageLoginPassword">
					<h:outputText value="Login Password Manager"/>
		    	</h:commandLink>
	    	</h:panelGrid>
	   </h:form>
		<div style="clear:both"/>
		<hr/>
		
		<h2>Reset Login Password</h2>
		<div style="clear:both"/>
		<hr/>
		
		<h:panelGrid>
			<h:form id="findUserForm">
				<fieldset><legend>Find User</legend>
					<h:panelGrid columns="2">
						<h:outputText value="Realm" />
						<h:inputText id="realm" value="#{resetpasswd.realm}" size="50" readonly="true" />
						<h:outputText value="Email Address/User ID" />
						<h:panelGrid>
							<h:inputText id="searchUid" value="#{resetpasswd.searchUid}" size="50" required="true" />
							<h:message for="searchUid" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg" />
						</h:panelGrid>
						<h:commandButton action="#{resetpasswd.findUser}" value="Find User" />
					</h:panelGrid>
				</fieldset>
	         </h:form>
			<h:message for="findUserForm" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg" />
		</h:panelGrid>
		
		<h:form id="resetpasswdForm">
			<fieldset><legend>Reset Password For User</legend>
				<h:panelGrid columns="2">
					<h:outputText value="Realm" />
					<h:inputText id="realm" value="#{resetpasswd.realm}" size="50" readonly="true" />
					<h:outputText value="Email Address/User ID" />
					<h:panelGroup>
						<h:inputText id="uid" value="#{resetpasswd.uid}" size="50" readonly="true" />
					</h:panelGroup>
					<h:outputText value="cn" />
					<h:panelGroup>
						<h:inputText id="cn" value="#{resetpasswd.cn}" size="50" readonly="true" />
					</h:panelGroup>
					<h:outputText value="sn" />
					<h:panelGroup>
						<h:inputText id="sn" value="#{resetpasswd.sn}" size="50" readonly="true" />
					</h:panelGroup>
				</h:panelGrid>
			</fieldset>
			<fieldset><legend>Admin Authorization</legend>
		        <h:panelGrid columns="2">
		            <h:outputText value="Admin"/>
		            <h:panelGroup>
		                <h:inputText id="admin" value="#{resetpasswd.admin}" size="25" required="true"/>
		                <h:message for="admin" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg"/>
		            </h:panelGroup>
		            <h:outputText value="Admin Password"/>
		            <h:panelGroup>
		                <h:inputSecret id="adminPassword" value="#{resetpasswd.adminPassword}" size="25" required="true"/>
		                <h:message for="adminPassword" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg"/>
		            </h:panelGroup>
		        </h:panelGrid>
				<h:commandButton action="#{resetpasswd.resetLoginPassword}" value="Reset Password" />
			</fieldset>
			<h:inputHidden id="hiddenUid" value="#{resetpasswd.uid}" />
			<h:inputHidden id="hiddenCn" value="#{resetpasswd.cn}" />
			<h:inputHidden id="hiddenSn" value="#{resetpasswd.sn}" />
			<h:inputHidden id="hiddenNewUserPassword" value="#{resetpasswd.newUserPassword}" />
		</h:form>
		<h:message for="resetpasswdForm" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg" />
		
    </ui:composition>
  </body>
</html>
