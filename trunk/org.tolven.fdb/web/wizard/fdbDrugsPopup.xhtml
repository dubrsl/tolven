<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"   
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">      
	<head>
	    <title>Medication Popup Template</title>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>
	
	<body>
	    <ui:composition>
	    	<div id="#{menu.elementLabel}:#{status}medicationFromFDBPopUP" class="popupgrid" style="display: none; top: 142.5px; left: 302.1px;">
				<div class="popupgridheader">
					<img onclick="closePopUp('#{menu.elementLabel}','#{status}medicationFromFDBPopUP')" src="../images/x_black.gif" class="closetab" />
				</div>
				<div class="paneBody">
					<div class="grid" style="border: 1px solid rgb(153, 153, 153); width: 465px;">
						<table class="filter" border="1">
							<tbody>
								<tr>
									<td class="menuActions" width="48%">
										Filter
										<h:inputText id="#{status}filterText" value="#{fdb.filterValue}" onkeyup="startFilteringDrug(event , this , '#{menu.elementLabel}', '#{menu.element}','#{status}','addFdbDrug')"></h:inputText>
									</td>
									<td class="favorites">
										<c:if test="#{mainDiv.style.display=='none'}">
											<c:set var="allMedClass"/>
											<c:set var="favMedClass" value="active"/>
										</c:if>
										<c:if test="#{mainDiv.style.display=='block'}">
											<c:set var="allMedClass" value="active"/>
											<c:set var="favMedClass"/>
										</c:if>
										<c:if test="#{top.accountType=='echr'}">
											<ul class="favoritesTabs">
												<li class="#{allMedClass}">
													<a onclick="javascript:showAllMedications();">All</a>
										    	</li>
												<c:forEach var="item" items="#{cchitMenu.favouriteMedicationsList}">
													<li class="#{favMedClass}">
														<a onclick="javascript:showFavouriteMedList('#{item.path}', '#{menu.elementLabel}', '#{menu.element}');">#{item.DisplayName}</a>
											    	</li>
							    				</c:forEach>
					    					</ul>
				    					</c:if>
				    				</td>	
								</tr>
							</tbody>
						</table>
						<table>
							<tbody>
								<tr>
									<td style="text-align: right;">
		 				 				<div>
		 				 					<img alt="First"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickFirst('#{menu.elementLabel}','#{menu.element}','#{status}','addFdbDrug')"/>
		 				 					<img alt="Previous"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickPrevious('#{menu.elementLabel}','#{menu.element}','#{status}','addFdbDrug')"/>
		 				 					<img alt="Next"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickNext('#{menu.elementLabel}','#{menu.element}','#{status}','addFdbDrug')"/>
		 				 					<img alt="Last"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickLast('#{menu.elementLabel}','#{menu.element}','#{status}','addFdbDrug')"/>
		 				 				</div>
		 				 			</td>
								</tr>
							</tbody>
						</table>
						<table>
							<thead>
								<tr>
									<th style="text-align: left; width: 40.5em; cursor: pointer;">
										Medication
										<span> 
											<img height="5" width="9" src="../images/sort_asc.gif" />
										</span>
									</th>
								</tr>
							</thead>
						</table>
						<table style="max-height: 265.312px; width: 100%">
							<tr>
								<td colspan="2">
									<div style="overflow: auto; height: 265.312px;" id="mainDiv">
										<c:choose>
											<c:when test="#{empty fdb.drugList}">
												No drugs found
											</c:when>
											<c:otherwise>
												<table id="#{menu.elementLabel}:#{status}drugTable" width="100%" class="gridBody">
												<tbody>
													<tr><td>loading...</td></tr>
												</tbody>
												</table>	
												
											</c:otherwise>												
										</c:choose>										
									</div>
									<span style="overflow: auto; height: 265.312px;display: none;" id="favoriteDiv"/>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<div class="foot">
										<span id="#{menu.elementLabel}:#{status}startLimit" ></span> <f:verbatim> - </f:verbatim>
										<span id="#{menu.elementLabel}:#{status}endLimit"  > </span> <f:verbatim> of  </f:verbatim>
										<h:outputText id ="#{status}totalcount" value=" #{fdb.totalDrugCount} items" />
										<h:outputText id="#{status}filteredcount"  />
									</div>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</ui:composition>
	</body>
</html>