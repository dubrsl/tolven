<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"   
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">      
	<head>
	    <title>Drug Allergy Popup Template</title>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>
	
	<body>
	    <ui:composition>
	    	<div id="#{menu.elementLabel}:drugAllergiesFromFDBPopUP" class="popupgrid" style="display: none; top: 142.5px; left: 302.1px;">
				<div class="popupgridheader">
					<img onclick="closePopUp('#{menu.elementLabel}','drugAllergiesFromFDBPopUP')" src="../images/x_black.gif" class="closetab" />
				</div>
				<div class="paneBody">
					<div class="grid" style="border: 1px solid rgb(153, 153, 153); width: 465px;">
						<table class="filter" border="1">
							<tbody>
								<tr>
									<td class="menuActions" width="48%">
										Drug Allergens
										<h:inputText id="filterText" value="#{fdb.filterValue}" onkeyup="startFilteringDrugAllergy(event , this , '#{menu.elementLabel}', '#{menu.element}','selectDrugAllergy')"></h:inputText>
									</td>
								</tr>
							</tbody>
						</table>
						<table>
							<tbody>
								<tr>
									<td style="text-align: right;">
		 				 				<div>
		 				 					<img alt="First"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickFirst('#{menu.elementLabel}','#{menu.element}','','selectDrugAllergy')"/>
		 				 					<img alt="Previous"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickPrevious('#{menu.elementLabel}','#{menu.element}','','selectDrugAllergy')"/>
		 				 					<img alt="Next"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickNext('#{menu.elementLabel}','#{menu.element}','','selectDrugAllergy')"/>
		 				 					<img alt="Last"  style="cursor: pointer;text-decoration: underline;margin-right: 5px;" onclick="clickLast('#{menu.elementLabel}','#{menu.element}','','selectDrugAllergy')"/>
		 				 				</div>
		 				 			</td>
								</tr>
							</tbody>
						</table>
						<table>
							<thead>
								<tr>
									<th style="text-align: left; width: 40.5em; cursor: pointer;">
										Allergen Name
										<span> 
											<img height="5" width="9" src="../images/sort_asc.gif" />
										</span>
									</th>
									<th style="text-align:left; width: 32.5em; cursor: pointer;">
										Allergen Type
										<span> 
											<img height="5" width="9" src="../images/sort_asc.gif" />
										</span>
									</th>
								</tr>
							</thead>
						</table>
						<table style="max-height: 265.312px; width: 100%">
							<tr>
								<td colspan="2">
									<div style="overflow: auto; height: 265.312px;" id="mainDiv">
										<c:choose>
											<c:when test="#{empty fdb.allergyList}">
												No drug allergies found
											</c:when>
											<c:otherwise>
												<table id="#{menu.elementLabel}:drugAllergyTable" width="100%" class="gridBody">
												<c:forEach var="allergy" items="#{fdb.allergyList}" varStatus="allergyIndex">
												<c:set var="class" value="odd"/>
												<c:if test="#{(allergyIndex.index%2)==1}"><c:set var="class" value="even"/></c:if>
													<tr class="#{class}">
														<td>
															<h:outputLink value="#" onclick="selectDrugAllergy('#{allergy.allergen}','#{allergy.type}','#{allergy.internalId}','#{menu.elementLabel}')">
																<h:outputText value="#{allergy.allergen}"/>
															</h:outputLink>
														</td>
														<td>
															<h:outputText value="#{allergy.type}"></h:outputText>
														</td>
													</tr>
												</c:forEach>
												</table>	
												
											</c:otherwise>												
										</c:choose>										
									</div>
									<span style="overflow: auto; height: 265.312px;display: none;" id="favoriteDiv"/>
								</td>
							</tr>
							<tr>
								<td colspan="2">
									<div class="foot">
										<span id="#{menu.elementLabel}:startLimit" ></span> <f:verbatim> - </f:verbatim>
										<span id="#{menu.elementLabel}:endLimit"  > </span> <f:verbatim> of  </f:verbatim>
										<h:outputText id ="totalcount" value=" #{fdb.totalAllergyCount} items" />
										<h:outputText id="filteredcount"  />
									</div>
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</ui:composition>
	</body>
</html>