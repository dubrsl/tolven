<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">
<head>
    <title>Diagnosis</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
<ui:composition>
	<wiz:step title="#{rel.act.observation.value.CE.displayName}" >
		<wiz:body>	
			<div class="delete"> 
				<a href="#" onclick="javascript:removeTemplate('#{menu.elementLabel}',#{rel.sequenceNumber})">Remove this #{type}</a>
			</div>
			<wiz:group title="#{rel.act.observation.value.CE.displayName}">
				<wiz:group title="#{type}">
					<h:outputText value="#{rel.act.observation.value.CE.displayName}"/>
				</wiz:group>
				<wiz:group title="Onset of Symptoms">
					<trim:TS id="effectiveTime#{rel.sequenceNumber}" value="#{rel.act.effectiveTime.TS}" dateStyle="short" />
				</wiz:group>
				<wiz:group title="Additional Details" >
					<wiz:yesno id="details#{rel.sequenceNumber}">Add?</wiz:yesno>
          <c:if test="#{rel.act.relationship['episodicity'] != null}">
            <wiz:group title="Episodicity" visible="$('#{menu.elementLabel}:details#{rel.sequenceNumber}').isTrue();">
              <trim:valueSetMenu id="episodicity#{rel.sequenceNumber}" slot="#{rel.act.relationship['episodicity'].act.observation.value}"/>
            </wiz:group>
          </c:if>
					<c:if test="#{rel.act.relationship['reaction'] != null}">
						<wiz:group title="Reaction" visible="$('#{menu.elementLabel}:details#{rel.sequenceNumber}').isTrue();">
							<trim:CE id="reaction#{rel.sequenceNumber}" valueSet="reaction" value="#{rel.act.relationship['reaction'].act.observation.value}" layout="pageDirection" />
						</wiz:group>
					</c:if>
					<c:if test="#{rel.act.relationship['severity'] != null}">
						<wiz:group title="Severity" visible="$('#{menu.elementLabel}:details#{rel.sequenceNumber}').isTrue();">
							<trim:CE id="severity#{rel.sequenceNumber}" valueSet="severity" value="#{rel.act.relationship['severity'].act.observation.value}" layout="pageDirection" />
						</wiz:group>
					</c:if>
					<c:if test="#{rel.act.relationship['course'] != null}">	
						<wiz:group title="Course" visible="$('#{menu.elementLabel}:details#{rel.sequenceNumber}').isTrue();">
							<trim:CE id="course#{rel.sequenceNumber}" valueSet="course" value="#{rel.act.relationship['course'].act.observation.value}"/>
						</wiz:group>
					</c:if>
					<c:if test="#{rel.act.relationship['onset'] != null}">						
						<wiz:group title="Onset" visible="$('#{menu.elementLabel}:details#{rel.sequenceNumber}').isTrue();">
							<trim:CE id="onset#{rel.sequenceNumber}" valueSet="onset" value="#{rel.act.relationship['onset'].act.observation.value}" layout="pageDirection" />
						</wiz:group>
					</c:if>
				</wiz:group>
			</wiz:group>
		</wiz:body>		
	</wiz:step>
</ui:composition>

</body>
</html>