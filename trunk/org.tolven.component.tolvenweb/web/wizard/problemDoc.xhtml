<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">
<head>
    <title>Problems</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <ui:composition>
    	
    	<h:inputHidden id="computeEnable"  value="#{trim.trim.act.computes[0].property['enabled']}" converter="javax.faces.Boolean"/>			
		<h:inputHidden id="deleteUnsavedProblems"  value="#{trim.trim.act.computes[1].property['enabled']}" converter="javax.faces.Boolean"/>			
		<h:inputText  id="computeTemplate" value="#{trim.trim.act.computes[0].property['template']}" style="display: none;" />
		<h:inputText id="computePosition" value="#{trim.trim.act.computes[0].property['position']}" style="display: none;" />					
		<h:inputText id="computeAction" value="#{trim.trim.act.computes[0].property['action']}" style="display: none;" />
      	<div id="popupGrids">
  			<div id="#{top.accountType}:#{trim.fieldMap['formType']}" class="popupgrid"/>          
      	</div>
      	<!-- <script> //SriniK: Why do we need this?
			// <![CDATA[
	  				 if ($("#{menu.elementLabel}submitButton")!=null) {
	                           $("#{menu.elementLabel}submitButton").observe('click', function() {
	                        	   submitUniqueTrim("#{trim.trim.name}", "#{menu.element}");
	                           });
	                 } 
	  			// ]]>               
		</script> -->
		<wiz:step title="#{trim.trim.act.relationship['type'].act.title.ST.value}" >
			<wiz:body>
				<div id="problemDocclinDiv" class="widget" style="width: 100%; margin-left: 0px;">
					<ui:include src="problemDocclinContent.xhtml"/> 
				</div>
					<div id="msgProblemDocclin" style="color: red;font-weight: bold;text-align: center;" ></div>
					<c:if test="#{trim.trim.act.relationship['submitStatus'].act.observation.values[1].ST.value != 'Yes'}">
						<div id="addNewOrderAnchor">
							<a onclick="openTemplate('#{top.accountType}:#{trim.trim.act.relationship['type'].act.text.ST.value}','#{top.accountType}:#{trim.trim.act.relationship['type'].act.text.ST.value}', 'addTemplate', '#{menu.elementLabel}', 0)" href="#">Add Problems</a>
						</div>						
					</c:if>
				
			</wiz:body>
		</wiz:step>
		<wiz:step title="#{trim.trim.act.relationship['encounter'].act.title.ST.value}" >
			<wiz:body>
				<table>
					<tr>
						<td><h:outputText value="#{trim.trim.act.relationship['encounter'].act.observation.value.label.value} :"/></td>
						<td>
							<h:selectOneMenu id="orderAssociateEncounters" value="#{trim.trim.act.relationship['encounter'].act.observation.value.CE}">
								<f:selectItems value="#{trim.valueSets['encounter']}"/>
				            	<f:converter converterId="DataTypeConverter"/>
				        	</h:selectOneMenu>
				        </td>
				    </tr>
				 </table>
			</wiz:body>
		</wiz:step> 	
	</ui:composition>	
</body>
</html>