<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">
<head>
    <title>Problems</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <ui:composition>
      <div id="popupGrids">
  			<div id="#{top.accountType}:#{trim.trim.act.relationship['type'].act.text.ST.value}" class="popupgrid"/>          
      </div>
 		<wiz:step title="Add #{trim.trim.act.relationship['type'].act.title.ST.value}" >
			<wiz:body>
         	 <h:inputText id="computeEnable"  value="#{trim.trim.act.computes[0].property['enabled']}" style="display: none;" converter="javax.faces.Boolean"/>			
			 <h:inputText  id="computeTemplate" value="#{trim.trim.act.computes[0].property['template']}" style="display: none;" />
			 <h:inputText id="computePosition" value="#{trim.trim.act.computes[0].property['position']}" style="display: none;" />					
			 <h:inputText id="computeAction" value="#{trim.trim.act.computes[0].property['action']}" style="display: none;" />										
				<wiz:group title="#{trim.trim.act.relationship['type'].act.title.ST.value}">
		          <table>
		            <c:if test="#{not empty trim.trim.act.relationshipsList['entry']}">
		              <tr>
		                <th><u>Name</u></th>
		                <th></th>
		              </tr>
		            </c:if>
		            <c:forEach items="#{trim.trim.act.relationshipsList['entry']}" var="item" varStatus="itemIndex">
		              <tr>
		                <td>#{item.act.code.CE.displayName}</td>
		                <td><a href="javascript:removeTemplate('#{menu.elementLabel}',#{item.sequenceNumber})">delete</a> </td>
		              </tr>              
		            </c:forEach>
		          </table>
					<a class="inactive" href="#" onclick="javascript:openTemplate('#{top.accountType}:#{trim.trim.act.relationship['type'].act.text.ST.value}','#{top.accountType}:#{trim.trim.act.relationship['type'].act.text.ST.value}', 'addTemplate', '#{menu.elementLabel}', 0)">Add #{trim.trim.act.relationship['type'].act.title.ST.value}</a>
				</wiz:group>
			</wiz:body>			
		</wiz:step>
    	<c:forEach var="rel" items="#{trim.trim.act.relationships}" varStatus="diagnosis">
			<c:if test="#{rel.name=='entry'}">
    			<ui:include src="px.xhtml">
					<ui:param name="rel" value="#{rel}"/>
              		<ui:param name="type" value="#{trim.trim.act.relationship['type'].act.title.ST.value}"/>
	     		</ui:include>	     			
			</c:if>
		</c:forEach>	
	</ui:composition>

	
</body>
</html>