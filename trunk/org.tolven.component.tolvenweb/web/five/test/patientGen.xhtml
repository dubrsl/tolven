<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
    <head>
        <title>Generate patients</title>
    </head>
    <body>
        <ui:composition>
		<div id="patGenPane">
			<h:panelGroup rendered="#{reg.account.accountType.knownType=='echr'}">
			<p>Generate patients and add them to an this account. In order to view the new account and patients.</p>
	        <h:form id="patGen" onsubmit="return ajaxSubmit2(this);">
	           <h:panelGrid columns="2">
	                <h:outputText value="Number of Patients"/>
	                <h:inputText id="count" value="#{gen.numberToGenerate}" size="4">
	                	<f:validateLongRange minimum="1" maximum="#{top.properties['tolven.gen.patient.max']}"/>
	                </h:inputText>
	                <h:outputText value="Patients began arriving in which year"/>
	                <h:inputText id="startYear" value="#{gen.generateHistoryFrom}" size="4"/>
	                <h:outputText value="Account Title"/>
	                <h:inputText id="title" value="#{gen.title}" size="80"/>
	            </h:panelGrid>
	            <h:commandButton id="patGenAction" action="#{gen.createCHRPatients}" value="Generate Account"/>
			</h:form>
	        <h:messages errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg"/>
			</h:panelGroup>
	       </div>
		</ui:composition>
	</body>
</html>