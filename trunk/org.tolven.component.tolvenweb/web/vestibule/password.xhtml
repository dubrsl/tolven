<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="Cache-Control" content="no-cache" />
	<title>Password Verification</title>
</head>
<body>
    <ui:composition template="/templates/simplePage.xhtml">
        <ui:param name="pageTitle" value="Enter password to select account"/>
        <ui:define name="body">
			<h:form id="check">
			<p>In order to change the account you are accessing, Tolven needs to verify your password.</p>
		           <h:panelGrid columns="2">
		                <h:outputText value="User id:"/>
	                    <h:inputText id="user" value="#{top.tp.uid}" disabled="true" />

		                <h:outputText value="Password:"/>
		                <h:panelGroup>
		                    <h:inputSecret id="password" value="#{reg.oldUserPassword}" size="50" onkeydown="Tolven.Util.submitOnEnter2(event, 'check:verifyPwd');"/>
	                        <h:message for="password" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg"/>
		                    <!-- Dummy field to enable form submittal by pressing Enter -->
							<h:inputSecret id="dummy" size="0" style="display: none" />
		                </h:panelGroup>
		           </h:panelGrid>
		           <h:panelGrid columns="1">
		               <h:commandButton id="verifyPwd" action="#{reg.verifyPassword}" value="Submit"/>
		           </h:panelGrid>
			<script language="JavaScript">
				// <![CDATA[
					Tolven.Util.setFocus("check:password");
				// ]]>
			</script>
		</h:form>
     </ui:define>
     </ui:composition>
    </body>
</html>
