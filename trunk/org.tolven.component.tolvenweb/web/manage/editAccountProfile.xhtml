<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
<head>
    <title>User Preferences</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
    <ui:composition template="/templates/simplePage.xhtml">
        <ui:param name="pageTitle" value="Account Preferences for #{reg.account.id} - #{reg.account.title}"/>
        <ui:define name="body">
        <h:form id="adminPrefs" rendered="#{top.accountAdmin}">
        	<div class="breadcrumbs">
				<h:commandLink value="Application" action="dispatch" immediate="true"/>
				<h:outputText value="&nbsp; &gt; &nbsp;" escape="false"/>
				<h:commandLink value="Preferences" action="preferences" immediate="true"/>
				<h:outputText value="&nbsp; &gt; &nbsp;" escape="false"/>
				<h:outputText value="Edit Account Preferences"/>
			</div>
           <h:panelGrid columns="2">
                <h:outputText value="Account Title"/>
                <h:panelGroup>
	                <h:inputText id="acctTitle" value="#{reg.accountTitle}" size="50" required="true"/>
	                <h:message for="acctTitle" errorClass="errorMsg" infoClass="infoMsg" warnClass="warnMsg" fatalClass="fatalMsg"/>
                </h:panelGroup>
                <h:outputText value="Account Timezone"/>
                <h:selectOneMenu value="#{reg.accountTimeZone}" >
                	<f:selectItems value="#{reg.timeZones}"/>
                </h:selectOneMenu>
                <h:outputLabel value="Account Locale" />
               	<h:selectOneMenu value="#{reg.accountLocale}" >
                  		<f:selectItems value="#{reg.localesList}" />
                  	</h:selectOneMenu>
                <h:outputLabel value="Enable Back Button"/>
                <h:selectBooleanCheckbox value="#{reg.enableBackButton}"/>
                <h:outputLabel value="Disable auto-refresh"/>
                <h:selectBooleanCheckbox value="#{reg.disableAutoRefresh}"/>
                <h:outputLabel value="Manual Account Metatdata Update"/>
                <h:selectBooleanCheckbox value="#{reg.manualMetadataUpdate}"/>
								<h:outputText value="Account Type"/>
								<h:outputText value="#{reg.account.accountType.longDesc} (#{reg.account.accountType.knownType})"/>
				        <h:outputText value="Send Error Email To"/>
				        <h:inputText id="errorEmailTo" value="#{reg.sendErrorEmailTo}" size="50"/>
                <h:commandButton action="#{reg.updateAccount}" value="Update Account" />&nbsp;
		   </h:panelGrid>    
        </h:form>
      </ui:define>
    </ui:composition>
  </body>
</html>
