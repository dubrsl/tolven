<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"   
      xmlns:wiz="http://www.tolven.org/jsf/wizard"
      xmlns:trim="http://www.tolven.org/jsf/trim">
      
	<head>
	    <title>FDB Medication History Document wizard</title>
	    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	</head>
	
	<body>
	    <ui:composition>
			<img id="#{menu.elementLabel}:ajaxLoader"  alt="ajax" src="../images/ajax-loader.gif" style="display:none; z-index: 50;position: absolute;margin-top: 40px;margin-left: 450px;"/>
			<!-- c:if test="#{top.accountType=='echr'}">
				<h:inputText id="computeEnable"  value="#{trim.trim.act.computes[1].property['enabled']}" style="display: none;" />
				<script>
					//<![CDATA[
						$('#{menu.elementLabel}:computeEnable').value=true;
					// ]]>
				</script>
			</c:if -->		
			<h:inputHidden id="rowId" value="#{fdb.rowId}"/>
			<h:inputHidden id="hiddenVariable" value="#{fdb.hidden}" />
			<h:inputHidden id="fdbType" />			
			<h:inputHidden id="computeEnable"  value="#{trim.trim.act.computes[0].property['enabled']}" converter="javax.faces.Boolean"/>			
			<h:inputHidden id="computeTemplate" value="#{trim.trim.act.computes[0].property['template']}" style="display: none;" />
			<h:inputHidden id="computePosition" value="#{trim.trim.act.computes[0].property['position']}" style="display: none;" />					
			<h:inputHidden id="computeAction" value="#{trim.trim.act.computes[0].property['action']}" style="display: none;" />
			<h:inputHidden id="fdbDrugCode" value="#{trim.trim.act.computes[0].property['fdbDrugCode']}" style="display: none;" />
			<h:inputHidden id="fdbDrugName" value="#{trim.trim.act.computes[0].property['fdbDrugName']}" style="display: none;" />
			<h:inputHidden id="drugStatus" value="#{trim.trim.act.computes[0].property['drugStatus']}" style="display: none;" />
			
			<wiz:step title="Medications Taken in Past" >
				<wiz:body>
					<ui:include src="fdbMedicationDocclinContent.xhtml">
						<ui:param name="status" value="medicationsTaken"/>
					</ui:include> 					
				</wiz:body>								
			</wiz:step>
			
		
			<wiz:step title="Medications Taking Currently" >
				<wiz:body>
					<ui:include src="fdbMedicationDocclinContent.xhtml">
						<ui:param name="status" value="medicationsTaking"/>
					</ui:include> 
				</wiz:body>							
			</wiz:step>
			<wiz:step title="#{trim.trim.act.relationship['encounter'].act.title.ST.value}" >
			<wiz:body>
				<table>
					<tr>
						<td><h:outputText value="#{trim.trim.act.relationship['encounter'].act.observation.value.label.value} :"/></td>
						<td>
							<h:selectOneMenu id="orderAssociateEncounters" value="#{trim.trim.act.relationship['encounter'].act.observation.value.CE}">
								<f:selectItems value="#{trim.valueSets['encounter']}"/>
				            	<f:converter converterId="DataTypeConverter"/>
				        	</h:selectOneMenu>
				        </td>
				    </tr>
				 </table>
			</wiz:body>
		</wiz:step> 	
		</ui:composition>	
	</body>
</html>